<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      table {
        border: 1px solid black;
        border-collapse: collapse;
        width: 400px;
      }
      th,
      td {
        border: 1px solid black;
        padding: 5px;
        text-align: center;
      }
      body div:first-child {
        margin-bottom: 20px;
      }
      body div:nth-child(2),
      body div:nth-child(3) {
        margin-bottom: 5px;
        font-weight: 600;
      }
      input {
        margin-left: 5px;
      }
      button {
        margin: 15px 0px;
      }
    </style>
  </head>
  <body>
    <div>방명록입니다.</div>
    <div>작성자<input type="text" id="name" /></div>
    <div>내용<input type="text" id="content" /></div>
    <button onclick="inputText()">작성</button>
    <table id="table">
      <tr id="row">
        <th>번호</th>
        <th>작성자</th>
        <th>내용</th>
        <th>작성일</th>
      </tr>
    </table>

    <script>
      let tableIndex = document.getElementById("tableIndex");
      let tableName = document.getElementById("tableName");
      let tableContent = document.getElementById("tableContent");
      let tableDate = document.getElementById("tableDate");
      let name = document.getElementById("name");
      let content = document.getElementById("content");

      let index = 1;

      function inputText() {
        let table = document.getElementById("table");

        let now = new Date();
        let year = now.getFullYear();
        let month = now.getMonth() + 1;
        let date = now.getDate();
        let hour = now.getHours();
        let minute = now.getMinutes();

        let newRow = table.insertRow();
        newRow.innerHTML = `<td id="tableIndex">${index}</td><td id="tableName">${name.value}</td><td id="tableContent">${content.value}</td><td id="tableDate">${year}-${month}-${date} ${hour} : ${minute}</td>`;
        index++;

        name.value = "";
        content.value = "";
      }
    </script>

    <!-- 해설 -->
    <!-- 
      <div>
        <p>방명록입니다.</p>

        <div>
            <table class="tbl">
                <tr>
                    <th>작성자</th>
                    <td>
                        <input type="text" id="name" style="width: 100px" />
                    </td>
                </tr>
                <tr>
                    <th>내용</th>
                    <td>
                        <input type="text" id="content" style="width: 500px" />
                    </td>
                </tr>
            </table>

            <br />
            <button type="button" onclick="writeNote();">작성</button>

            <br /><br />

            <table id="table" border="1" cellpadding="10" cellspacing="1">
                <tr>
                    <th>번호</th>
                    <th>작성자</th>
                    <th>내용</th>
                    <th>작성일</th>
                </tr>
            </table>
        </div>
    </div>

    <script>
      // 전역변수 cnt라는 변수 만들기
      // 전역변수 : 어디서든 script 태그 안에서 사용 가능
      let cnt = 1;

      function writeNote() {
        // 작성자, 내용 요소 선택, 값 가져오기
        let nameVal = document.getElementById("name").value;
        let contentVal = document.getElementById("content").value;

        // 테이블 추가
        // 여러 개의 자식을 추가할 경우 : 거꾸로 추가해주면 된다
        // td 만들기 -> td를 tr에 추가 -> (tr > td)로 구성된 tr을 통째로 table에 추가
        
        // 테이블 요소 선택
        let table = document.getElementById("table");

        // 새로운 요소 만들기 (tr, td - 4개: 번호, 작성자, 내용, 작성일)
        let garo = document.createElement("tr");  // tr 태그가 garo라는 변수명 가짐

        // td 4개 만들기
        let td1 = document.createElement("td");
        let td2 = document.createElement("td");
        let td3 = document.createElement("td");
        let td4 = document.createElement("td");

        // td 안의 내용 값 채우기
        // td1: 순서(번호)
        td1.innerText = cnt;
        cnt++;
        // td2: 작성자
        td2.innerText = nameVal;
        // td3: 내용
        td3.innerText = contentVal;
        // td4: 작성시간
        let date = new Date();
        td4.innerText = date.getFullYears() + "-" + (date.getMonth() + 1) + "-" + date.getDate();

        // tr(garo) 요소에 만든 td들 자식 요소로 추가
        garo.appendChild(td1);
        garo.appendChild(td2);
        garo.appendChild(td3);
        garo.appendChild(td4);

        // tr 요소를 table 요소에 자식 요소로 추가
        table.appendChild(garo);     // 괄호 안은 변수명

        // 입력값 초기화
        let name = document.getElementById("name");
        let content = document.getElementById("content");
        name.value = "";
        content = "";

        // 초기화 다른 예시
        let inputs = document.querySelectorAll("input"); // NodeList

        for (let i = 0; inputs.length; i++) {
          // inputs[i] : 위에  name, content 라는 변수로 만들어둔 요소와 동일
          inputs[i].value = "";
        }
      }
    </script>
     -->
  </body>
</html>
